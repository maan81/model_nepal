
(function($){$.fn.my_slider=function(opt){this.each(function(){var $obj=$(this);var defaults={move:200,pause:2000,each_width:100,each_height:100,num:3,showDir:true,showPlay:true,l:'',r:'',p:'',h:true,autoMove:true,autoDir:'left',type:'swing',display:'horizontal',h_spacing:15,v_spacing:15};opt=$.extend(defaults,opt);function getNum($myObj){var n=0;$myObj.find('.slide').each(function(){n++;});return n;};function validate(opt){var tmpN=getNum($obj);if(tmpN<opt.num+1){opt.num=tmpN-1;}
if(opt.l==''||$('#'+opt.l).length==0){var l=$('<div id="l"/>')
if(opt.dispaly=='horizontal')l.text('<--');else if(opt.display=='vertical')l.text('down');$obj.prepend(l);opt.l=l;}else{opt.l=$('#'+opt.l);}
if(opt.r==''||$('#'+opt.r).length==0){var r=$('<div id="r"/>');if(opt.dispalay=='horizontal')r.text('-->');else if(opt.display=='vertical')r.text('up');$obj.prepend(r);opt.r=r;}else{opt.r=$('#'+opt.r);}
if(!opt.showDir){(opt.l).css('display','none');(opt.r).css('display','none');}
if(opt.showPlay){if(opt.p==''||$('#'+opt.p).length==0){var p=$('<div id="p"/>').text('Play');$obj.prepend(p);opt.p=p;}else{opt.p=$('#'+opt.p);}}
if((opt.display!='horizontal')&&(opt.display!='vertical')){opt.display='horizontal';}
if(opt.display=='horizontal'){if(opt.autoDir!='left'&&opt.autoDir!='right')
opt.autoDir='-';else if(opt.autoDir=='left')opt.autoDir='-';else if(opt.autoDir=='right')opt.autoDir='+';}else if(opt.display=='vertical'){if(opt.autoDir!='up'&&opt.autoDir!='down')
opt.autoDir='up';else if(opt.autoDir=='up')opt.autoDir='up';else if(opt.autoDir=='down')opt.autoDir='dn';}};validate(opt);function rand(l){if(l==undefined)l=5;var text="";var possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var i=0;i<l;i++)
text+=possible.charAt(Math.floor(Math.random()*possible.length));return text;};function getObjID($myObj){var tmpID;if($myObj.attr('id')==undefined){do{tmpID=rand();}while($('#'+tmpID).length);$myObj.attr('id',tmpID);};return $myObj.attr('id');};var $objID=getObjID($obj);function addCss($myObj){var newCss='<style>';newCss+='/*stylesheet generated by img_slider jQuery plugin*/';if(opt.display=='horizontal'){newCss+='#'+$objID+' {'+'overflow: hidden;'+'position: relative;'+'height: '+parseInt((opt.each_height+opt.v_spacing)+3)+'px; /*changes at init*/'+'width: '+parseInt((opt.each_width+opt.h_spacing)*opt.num)+'px; /*changes at init*/'+'}'+'#'+$objID+' .slide {'+'position: absolute;'+'height:'+opt.each_height+'px; /*changes at init*/'+'width:'+opt.each_width+'px; /*changes at init*/'+'margin-right:'+opt.h_spacing+';/*changes at init*/'+'}'+'#'+$objID+' #l,#r,#p{'+'position:absolute;'+'z-index:1;'+'cursor:pointer;/*editable*/'+'opacity:0.2;'+'}'+'#'+$objID+' #l:hover,#r:hover,#p:hover{'+'opacity:1;'+'}'+'#'+$objID+' #l{'+'left:5px;'+'}'+'#'+$objID+' #r{'+'left:'+parseInt(opt.each_width*opt.num-25)+'px;'+'}'+'#'+$objID+' #p{'+'left:'+parseInt(opt.each_width*opt.num/2-10)+'px;'+'}';}else if(opt.display=='vertical'){newCss+='#'+$objID+' {'+'overflow: hidden;'+'position: relative;'+'height: '+parseInt(opt.each_height*opt.num+3)+'px; /*changes at init*/'+'width: '+opt.each_width+'px; /*changes at init*/'+'}'+'#'+$objID+' .slide {'+'position: absolute;'+'border: 1px solid #FFFAAE;/*editable*/'+'background-color:yellow;/*editable*/'+'height:'+opt.each_height+'px; /*changes at init*/'+'width:'+opt.each_width+'px; /*changes at init*/'+'left: 0;  /*changes dynamically*/'+'margin-bottom:'+opt.v_spacing+'px;/*changes at init*/'+'}'+'#'+$objID+' #l,#r,#p{'+'position:absolute;'+'z-index:1;'+'cursor:pointer;/*editable*/'+'opacity:0.2;'+'}'+'#'+$objID+' #l:hover,#r:hover,#p:hover{'+'opacity:1;'+'}'+'#'+$objID+' #l{'+'left:5px;'+'}'+'#'+$objID+' #r{'+'left:'+parseInt(opt.each_width-25)+'px;'+'}'+'#'+$objID+' #p{'+'}';};newCss+='</style>';$obj.before(newCss);};function init($myObj){addCss($myObj);var n=0;$myObj.find('.slide').each(function(){if(opt.display=='horizontal'){$(this).css({'left':(opt.each_width+opt.h_spacing)*n+'px','top':10});}else if(opt.display=='vertical'){$(this).css({'top':(opt.each_height+opt.v_spacing)*n+'px'})}
n++;});$myObj.data('ok',true);};init($obj);function slide(dir){var tmp=$obj.find('.slide');$obj.data('ok',false);if(dir=='+'){tmp.stop().last().css('left','-'+(opt.each_width+opt.h_spacing)+'px').end().first().before(tmp.last())
tmp.animate({'left':'+='+(opt.each_width+opt.h_spacing)+''},opt.move,opt.type,function(){$obj.data('ok',true)})}
else if(dir=='-'){var lastLeft=tmp.last().css('left');tmp.animate({'left':'-='+(opt.each_width+opt.h_spacing)+''},opt.move,opt.type,function(){tmp.first().css('left',lastLeft).end().last().after(tmp.first())
$obj.data('ok',true)})}
else if(dir=='up'){var lastTop=tmp.last().css('top');tmp.animate({'top':'-='+(opt.each_height+opt.v_spacing)+''},opt.move,opt.type,function(){tmp.first().css('top',lastTop).end().last().after(tmp.first())
$obj.data('ok',true)})}
else if(dir=='dn'){tmp.stop().last().css('top','-'+(opt.each_height+opt.v_spacing)+'px').end().first().before(tmp.last())
tmp.animate({'top':'+='+(opt.each_height+opt.v_spacing)+''},opt.move,opt.type,function(){$obj.data('ok',true)})}};function assign($myObj){var s;$myObj.data('ok',true);if(opt.autoMove){s=setInterval(function(){slide(opt.autoDir);},opt.move+opt.pause)
$obj.data({'s':s});};if(opt.display=='horizontal'){if(opt.h){(opt.l).hover(function(){if($obj.data('ok')){clearInterval(s);s=undefined;s=setInterval(function(){slide('+');},opt.move+opt.pause)
$obj.data({'s':s});}},function(){clearInterval(s);s=undefined;});}else{(opt.l).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('+');}});}
if(opt.h){(opt.r).hover(function(){if($obj.data('ok')){clearInterval(s);s=undefined;s=setInterval(function(){slide('-');},opt.move+opt.pause)
$obj.data({'s':s});}},function(){clearInterval(s);s=undefined;});}else{(opt.r).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('-');}});}}
else if(opt.display=='vertical'){if(opt.h){}else{(opt.l).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('up');}});}
if(opt.h){}else{$myObj.find(opt.r).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('dn');}});}}
$myObj.find(opt.p).click(function(){if(s){clearInterval(s);s=undefined;}else{slide(opt.autoDir);s=setInterval(function(){slide(opt.autoDir);},opt.move+opt.pause)
$obj.data({'s':s});}});};assign($obj);});return this;};})(jQuery);

(function($){$.fn.my_slider=function(opt){this.each(function(){var $obj=$(this);var defaults={move:200,pause:2000,each_width:100,each_height:100,num:3,showDir:true,showPlay:true,l:'',r:'',p:'',h:true,autoMove:true,autoDir:'left',type:'swing',display:'horizontal',h_spacing:15,v_spacing:15};opt=$.extend(defaults,opt);function getNum($myObj){var n=0;$myObj.find('.slide').each(function(){n++;});return n;};function validate(opt){var tmpN=getNum($obj);if(tmpN<opt.num+1){opt.num=tmpN-1;}
if(opt.l==''||$('#'+opt.l).length==0){var l=$('<div id="l"/>')
if(opt.dispaly=='horizontal')l.text('<--');else if(opt.display=='vertical')l.text('down');$obj.prepend(l);opt.l=l;}else{opt.l=$('#'+opt.l);}
if(opt.r==''||$('#'+opt.r).length==0){var r=$('<div id="r"/>');if(opt.dispalay=='horizontal')r.text('-->');else if(opt.display=='vertical')r.text('up');$obj.prepend(r);opt.r=r;}else{opt.r=$('#'+opt.r);}
if(!opt.showDir){(opt.l).css('display','none');(opt.r).css('display','none');}
if(opt.showPlay){if(opt.p==''||$('#'+opt.p).length==0){var p=$('<div id="p"/>').text('Play');$obj.prepend(p);opt.p=p;}else{opt.p=$('#'+opt.p);}}
if((opt.display!='horizontal')&&(opt.display!='vertical')){opt.display='horizontal';}
if(opt.display=='horizontal'){if(opt.autoDir!='left'&&opt.autoDir!='right')
opt.autoDir='-';else if(opt.autoDir=='left')opt.autoDir='-';else if(opt.autoDir=='right')opt.autoDir='+';}else if(opt.display=='vertical'){if(opt.autoDir!='up'&&opt.autoDir!='down')
opt.autoDir='up';else if(opt.autoDir=='up')opt.autoDir='up';else if(opt.autoDir=='down')opt.autoDir='dn';}};validate(opt);function rand(l){if(l==undefined)l=5;var text="";var possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var i=0;i<l;i++)
text+=possible.charAt(Math.floor(Math.random()*possible.length));return text;};function getObjID($myObj){var tmpID;if($myObj.attr('id')==undefined){do{tmpID=rand();}while($('#'+tmpID).length);$myObj.attr('id',tmpID);};return $myObj.attr('id');};var $objID=getObjID($obj);function addCss($myObj){var newCss='<style>';newCss+='/*stylesheet generated by img_slider jQuery plugin*/';if(opt.display=='horizontal'){newCss+='#'+$objID+' {'+'overflow: hidden;'+'position: relative;'+'height: '+parseInt((opt.each_height+opt.v_spacing)+3)+'px; /*changes at init*/'+'width: '+parseInt((opt.each_width+opt.h_spacing)*opt.num)+'px; /*changes at init*/'+'}'+'#'+$objID+' .slide {'+'position: absolute;'+'height:'+opt.each_height+'px; /*changes at init*/'+'width:'+opt.each_width+'px; /*changes at init*/'+'margin-right:'+opt.h_spacing+';/*changes at init*/'+'}'+'#'+$objID+' #l,#r,#p{'+'position:absolute;'+'z-index:1;'+'cursor:pointer;/*editable*/'+'opacity:0.2;'+'}'+'#'+$objID+' #l:hover,#r:hover,#p:hover{'+'opacity:1;'+'}'+'#'+$objID+' #l{'+'left:5px;'+'}'+'#'+$objID+' #r{'+'left:'+parseInt(opt.each_width*opt.num-25)+'px;'+'}'+'#'+$objID+' #p{'+'left:'+parseInt(opt.each_width*opt.num/2-10)+'px;'+'}';}else if(opt.display=='vertical'){newCss+='#'+$objID+' {'+'overflow: hidden;'+'position: relative;'+'height: '+parseInt(opt.each_height*opt.num+3)+'px; /*changes at init*/'+'width: '+opt.each_width+'px; /*changes at init*/'+'}'+'#'+$objID+' .slide {'+'position: absolute;'+'border: 1px solid #FFFAAE;/*editable*/'+'background-color:yellow;/*editable*/'+'height:'+opt.each_height+'px; /*changes at init*/'+'width:'+opt.each_width+'px; /*changes at init*/'+'left: 0;  /*changes dynamically*/'+'margin-bottom:'+opt.v_spacing+'px;/*changes at init*/'+'}'+'#'+$objID+' #l,#r,#p{'+'position:absolute;'+'z-index:1;'+'cursor:pointer;/*editable*/'+'opacity:0.2;'+'}'+'#'+$objID+' #l:hover,#r:hover,#p:hover{'+'opacity:1;'+'}'+'#'+$objID+' #l{'+'left:5px;'+'}'+'#'+$objID+' #r{'+'left:'+parseInt(opt.each_width-25)+'px;'+'}'+'#'+$objID+' #p{'+'}';};newCss+='</style>';$obj.before(newCss);};function init($myObj){addCss($myObj);var n=0;$myObj.find('.slide').each(function(){if(opt.display=='horizontal'){$(this).css({'left':(opt.each_width+opt.h_spacing)*n+'px','top':10});}else if(opt.display=='vertical'){$(this).css({'top':(opt.each_height+opt.v_spacing)*n+'px'})}
n++;});$myObj.data('ok',true);};init($obj);function slide(dir){var tmp=$obj.find('.slide');$obj.data('ok',false);if(dir=='+'){tmp.stop().last().css('left','-'+(opt.each_width+opt.h_spacing)+'px').end().first().before(tmp.last())
tmp.animate({'left':'+='+(opt.each_width+opt.h_spacing)+''},opt.move,opt.type,function(){$obj.data('ok',true)})}
else if(dir=='-'){var lastLeft=tmp.last().css('left');tmp.animate({'left':'-='+(opt.each_width+opt.h_spacing)+''},opt.move,opt.type,function(){tmp.first().css('left',lastLeft).end().last().after(tmp.first())
$obj.data('ok',true)})}
else if(dir=='up'){var lastTop=tmp.last().css('top');tmp.animate({'top':'-='+(opt.each_height+opt.v_spacing)+''},opt.move,opt.type,function(){tmp.first().css('top',lastTop).end().last().after(tmp.first())
$obj.data('ok',true)})}
else if(dir=='dn'){tmp.stop().last().css('top','-'+(opt.each_height+opt.v_spacing)+'px').end().first().before(tmp.last())
tmp.animate({'top':'+='+(opt.each_height+opt.v_spacing)+''},opt.move,opt.type,function(){$obj.data('ok',true)})}};function assign($myObj){var s;$myObj.data('ok',true);if(opt.autoMove){s=setInterval(function(){slide(opt.autoDir);},opt.move+opt.pause)
$obj.data({'s':s});};if(opt.display=='horizontal'){if(opt.h){(opt.l).hover(function(){if($obj.data('ok')){clearInterval(s);s=undefined;s=setInterval(function(){slide('+');},opt.move+opt.pause)
$obj.data({'s':s});}},function(){clearInterval(s);s=undefined;});}else{(opt.l).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('+');}});}
if(opt.h){(opt.r).hover(function(){if($obj.data('ok')){clearInterval(s);s=undefined;s=setInterval(function(){slide('-');},opt.move+opt.pause)
$obj.data({'s':s});}},function(){clearInterval(s);s=undefined;});}else{(opt.r).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('-');}});}}
else if(opt.display=='vertical'){if(opt.h){}else{(opt.l).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('up');}});}
if(opt.h){}else{$myObj.find(opt.r).click(function(){if($obj.data('ok')){clearInterval(s);s=undefined;slide('dn');}});}}
$myObj.find(opt.p).click(function(){if(s){clearInterval(s);s=undefined;}else{slide(opt.autoDir);s=setInterval(function(){slide(opt.autoDir);},opt.move+opt.pause)
$obj.data({'s':s});}});};assign($obj);});return this;};})(jQuery);

$(function(){var navR,navL=false;var first=1;var positions={'0':0,'1':235,'2':470}
var $ps_albums=$('#ps_albums');var elems=$ps_albums.children().length;var $ps_slider=$('#ps_slider');var hiddenRight=$(window).width()-$ps_albums.offset().left;$ps_albums.children('div').css('left',hiddenRight+'px');$ps_albums.children('div:lt(3)').each(function(i){var $elem=$(this);$elem.css({'left':positions[i]+'px','opacity':1});if(elems>3)
enableNavRight();});$ps_slider.find('.next').bind('click',function(){if(!$ps_albums.children('div:nth-child('+parseInt(first+3)+')').length||!navR)return;disableNavRight();disableNavLeft();moveRight();});$ps_slider.find('.prev').bind('click',function(){if(first==1||!navL)return;disableNavRight();disableNavLeft();moveLeft();});function moveRight(){var hiddenLeft=$ps_albums.offset().left+163;var cnt=0;$ps_albums.children('div:nth-child('+first+')').animate({'left':-hiddenLeft+'px','opacity':0},500,function(){var $this=$(this);$ps_albums.children('div').slice(first,parseInt(first+2)).each(function(i){var $elem=$(this);$elem.animate({'left':positions[i]+'px'},800,function(){++cnt;if(cnt==2){$ps_albums.children('div:nth-child('+parseInt(first+3)+')').animate({'left':positions[cnt]+'px','opacity':1},500,function(){++first;if(parseInt(first+2)<elems)
enableNavRight();enableNavLeft();});}});});});}
function moveLeft(){var hiddenRight=$(window).width()-$ps_albums.offset().left;var cnt=0;var last=first+2;$ps_albums.children('div:nth-child('+last+')').animate({'left':hiddenRight+'px','opacity':0},500,function(){var $this=$(this);$ps_albums.children('div').slice(parseInt(last-3),parseInt(last-1)).each(function(i){var $elem=$(this);$elem.animate({'left':positions[i+1]+'px'},800,function(){++cnt;if(cnt==2){$ps_albums.children('div:nth-child('+parseInt(last-3)+')').animate({'left':positions[0]+'px','opacity':1},500,function(){--first;enableNavRight();if(first>1)
enableNavLeft();});}});});});}
function disableNavRight(){navR=false;$ps_slider.find('.next').addClass('disabled');}
function disableNavLeft(){navL=false;$ps_slider.find('.prev').addClass('disabled');}
function enableNavRight(){navR=true;$ps_slider.find('.next').removeClass('disabled');}
function enableNavLeft(){navL=true;$ps_slider.find('.prev').removeClass('disabled');}})
